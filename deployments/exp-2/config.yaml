---
# exp-2: Simplified Architecture Deployment
# Tests new naming scheme with streamlined Brain + Content + Model architecture
#
# Naming Scheme: [Brain][Version][Variant].[Model]
#   Brain:    M = MCHP, B = BrowserUse, S = SmolAgents
#             MC = MCHP CPU, BC = BrowserUse CPU, SC = SmolAgents CPU
#   Version:  1 = Baseline, 2 = PHASE timing
#   Variant:  a = llama, b = gemma, c = deepseek
#             d = lfm, e = ministral, f = qwen (CPU only)
#
# Comparison Goals:
#   - M0 vs M1: Upstream MITRE vs DOLOS MCHP
#   - M1a vs M2a: Baseline content vs PHASE timing
#   - B1 vs B2: Baseline BrowserUse vs PHASE timing
#   - S1 vs S2: Baseline SmolAgents vs PHASE timing
#   - V100 vs RTX 2080 TI A: GPU hardware comparison
#
# Total VMs: 38 (15 non-GPU, 15 V100, 2 RTX non-A, 6 RTX A)
# Including: 2 C0 control VMs (bare Ubuntu - 1 non-GPU, 1 V100)
# CPU-only agents: 12 VMs (6 BC series, 6 SC series)

deployment_name: exp-2

# ═══════════════════════════════════════════════════════════════════
# GPU CAPACITY - Adjust these based on your available hardware
# ═══════════════════════════════════════════════════════════════════
flavor_capacity:
  rtx2080ti-1gpu.14vcpu.28g: 4        # RTX 2080 TI non-A variant
  rtx2080ti-A-1gpu.14vcpu.28g: 6      # RTX 2080 TI A variant
  v100-1gpu.14vcpu.28g: 19            # V100 GPUs
  v1.14vcpu.28g: 20                   # Non-GPU (M0, M1, C0, BC, SC series)

# ═══════════════════════════════════════════════════════════════════
# DEPLOYMENTS
# ═══════════════════════════════════════════════════════════════════
deployments:
  # ─────────────────────────────────────────────────────────────────
  # CONTROL: C0 (Bare Ubuntu VM - absolutely nothing installed)
  # Used as baseline control systems
  # ─────────────────────────────────────────────────────────────────
  - behavior: C0
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: C0
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # CONTROL: M0 (Upstream MITRE pyhuman - DO NOT MODIFY)
  # ─────────────────────────────────────────────────────────────────
  - behavior: M0
    flavor: v1.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # BASELINE: M1 (DOLOS MCHP - no LLM)
  # ─────────────────────────────────────────────────────────────────
  - behavior: M1
    flavor: v1.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # MCHP + LLM Content: M1a Series (baseline, no PHASE)
  # ─────────────────────────────────────────────────────────────────
  - behavior: M1a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M1b.gemma
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M1c.deepseek
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # MCHP + LLM Content + PHASE: M2 Series
  # ─────────────────────────────────────────────────────────────────
  - behavior: M2a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M2b.gemma
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M2c.deepseek
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # BrowserUse + PHASE: B2 Series
  # ─────────────────────────────────────────────────────────────────
  - behavior: B2a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: B2b.gemma
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: B2c.deepseek
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # SmolAgents + PHASE: S2 Series
  # ─────────────────────────────────────────────────────────────────
  - behavior: S2a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: S2b.gemma
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: S2c.deepseek
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # BASELINE COMPARISON: B1 and S1 (no PHASE)
  # Run alongside improved versions for A/B comparison
  # ─────────────────────────────────────────────────────────────────
  - behavior: B1a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: S1a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # RTX 2080 TI (non-A): DUPLICATES of Baselines (B1a, S1a)
  # ─────────────────────────────────────────────────────────────────
  - behavior: B1a.llama
    flavor: rtx2080ti-1gpu.14vcpu.28g
    count: 1

  - behavior: S1a.llama
    flavor: rtx2080ti-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # RTX 2080 TI A: DUPLICATES of BrowserUse PHASE (B2a-B2c)
  # ─────────────────────────────────────────────────────────────────
  - behavior: B2a.llama
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: B2b.gemma
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: B2c.deepseek
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # RTX 2080 TI A: DUPLICATES of SmolAgents PHASE (S2a-S2c)
  # ─────────────────────────────────────────────────────────────────
  - behavior: S2a.llama
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: S2b.gemma
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: S2c.deepseek
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # CPU-ONLY: BC Series (BrowserUse baseline on CPU)
  # ─────────────────────────────────────────────────────────────────
  - behavior: BC1a.llama
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: BC1b.gemma
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: BC1c.deepseek
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: BC1d.lfm
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: BC1e.ministral
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: BC1f.qwen
    flavor: v1.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # CPU-ONLY: SC Series (SmolAgents baseline on CPU)
  # ─────────────────────────────────────────────────────────────────
  - behavior: SC1a.llama
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: SC1b.gemma
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: SC1c.deepseek
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: SC1d.lfm
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: SC1e.ministral
    flavor: v1.14vcpu.28g
    count: 1

  - behavior: SC1f.qwen
    flavor: v1.14vcpu.28g
    count: 1
