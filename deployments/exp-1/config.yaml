---
# exp-1: PRE-PHASE Experimental Deployment
# Based on docs/EXPERIMENTAL_PLAN.md
#
# GPU Allocation:
#   V100:           All GPU configs (M2*, M3*, B1-B3, S1-S3) - 12 of 19
#   RTX 2080 TI A:  Duplicates of B1-B3, S1-S3 - 6 of 6
#   Non-GPU:        M1 - 1 used
#
# Total VMs: 19

deployment_name: exp-1

# ═══════════════════════════════════════════════════════════════════
# GPU CAPACITY - Adjust these based on your available hardware
# ═══════════════════════════════════════════════════════════════════
flavor_capacity:
  rtx2080ti-1gpu.14vcpu.28g: 4        # RTX 2080 TI non-A variant
  rtx2080ti-A-1gpu.14vcpu.28g: 6      # RTX 2080 TI A variant
  v100-1gpu.14vcpu.28g: 19            # V100 GPUs
  v1.14vcpu.28g: 20                   # Non-GPU (M1 only)

# ═══════════════════════════════════════════════════════════════════
# DEPLOYMENTS
# ═══════════════════════════════════════════════════════════════════
deployments:
  # ─────────────────────────────────────────────────────────────────
  # NON-GPU: M1 (Pure MCHP baseline)
  # ─────────────────────────────────────────────────────────────────
  - behavior: M1
    flavor: v1.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # V100: MCHP Series with LLM augmentation (M2*, M3*)
  # ─────────────────────────────────────────────────────────────────
  - behavior: M2.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M2a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M2b.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M3.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M3a.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: M3b.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # V100: BrowserUse Series (B1, B2, B3)
  # ─────────────────────────────────────────────────────────────────
  - behavior: B1.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: B2.gemma
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: B3.deepseek
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # V100: SmolAgents Series (S1, S2, S3)
  # ─────────────────────────────────────────────────────────────────
  - behavior: S1.llama
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: S2.gemma
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  - behavior: S3.deepseek
    flavor: v100-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # RTX 2080 TI A: DUPLICATES of BrowserUse Series
  # ─────────────────────────────────────────────────────────────────
  - behavior: B1.llama
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: B2.gemma
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: B3.deepseek
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  # ─────────────────────────────────────────────────────────────────
  # RTX 2080 TI A: DUPLICATES of SmolAgents Series
  # ─────────────────────────────────────────────────────────────────
  - behavior: S1.llama
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: S2.gemma
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1

  - behavior: S3.deepseek
    flavor: rtx2080ti-A-1gpu.14vcpu.28g
    count: 1